{
    "$schema": "https://www.sculpting-vis.org/abr-schemas/",
    "$id": "https://www.sculpting-vis.org/abr-schemas/spec.json",
    "title": "ABR Specification",
    "description": "The specification for ABR - a contract between the ABR Model, Renderer, and all UIs",
    "type": "object",


    "required": ["version"],


    "properties": {
        "version": {
            "type": "string",
            "description": "Version of the spec (semantic versioning, incremented when a change is made to the spec)"
        },
        "plates": {
            "type": "array",
            "description": "Plates (layers) that the ABR Rendering engine implements",
            "items": {"$ref": "#/definitions/Plate"}
        },
        "types": {
            "type": "array",
            "description": "C# types exposed by ABR",
            "items": "string"
        }
    },


    "definitions": {
        "Plate": {
            "type": "object",
            "description": "A Plate in ABR (e.g. a SurfacePlate) which becomes a data impression when instantiated",
            "properties": {
                "type": {
                    "type": "string",
                    "description": "String representation of a C# type"
                },
                "version": {
                    "type": "string",
                    "description": "Version of the plate (semantic versioning, increment every time you change this plate)"
                },
                "inputs": {
                    "type": "array",
                    "description": "The inputs available to this plate, associated with their types",
                    "items": {"$ref": "#/definitions/Input"}
                }
            }
        },

        "Input": {
            "type": "object",
            "description": "A single input to a plate",
            "properties": {
                "inputType": {
                    "type": "string",
                    "description": "The type of this input (corresponds to a C# type, e.g. `ColormapVisAsset`)"
                },
                "inputName": {
                    "type": "string",
                    "description": "Name of the input (e.g. `Colormap`)"
                },
                "inputGroup": {
                    "type": "string",
                    "description": "The group that this input belongs to (e.g. `Colormap` and `Color Variable` belong to the `Color` group)"
                }
            }
        }
    }
}